# V1.0 Finalization TODO

1. **Handle Screen Time revocation**
   - Document behavior when FamilyControls permission is revoked mid-week.
   - Add mitigations/alerts to `KNOWN_ISSUES.md`.

2. **Testing rig**
   - Build a simple seed → cron → verify harness so weekly settlement scenarios can be tested with minimal manual steps.

3. **Known issues audit**
   - Revisit `KNOWN_ISSUES.md`, confirm statuses, and close/flag anything outdated.

4. **UI polish**
   - Final pass on Authorization/Monitor/Bulletin (countdown banner, settlement card styling, remove temporary buttons).

5. **Env separation**
   - Distinct staging + production Supabase projects.
   - Ensure staging → Stripe test mode, production → Stripe live mode.

6. **TestFlight readiness**
   - Finish Apple entitlement approvals.
   - Prepare provisioning profiles + submit build to TestFlight.

7. **Monitoring & alerts**
   - Structured logging for reminder/settlement/reconcile functions.
   - Add alert hooks (Slack/email) for failures or missed schedules.

8. **Automated data cleanup**
   - Scripts to reset seeded commitments/penalties and Stripe test charges after QA runs.

9. **Config sanity check**
   - Tooling to verify Supabase/Stripe env vars (URL, keys, cron schedule) before deploy.

10. **App Group heartbeat**
    - Diagnostic screen/log to confirm DeviceActivity monitor is writing usage data.

11. **Docs refresh**
    - Update README/architecture/testing docs with the Tuesday-noon settlement cadence and QA process.

12. **Security review**
    - Audit auth scopes, secret storage, and request logging to ensure no sensitive data leaks.

13. **Code cleanup**
    - Remove stray debug logs/“slur” comments, tidy unused files, enforce formatting.

14. **Stripe mapping clarity**
    - Explicit mapping of staging ↔ Stripe sandbox, production ↔ Stripe live, with deployment safeguards.

